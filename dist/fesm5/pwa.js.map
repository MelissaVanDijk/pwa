{"version":3,"file":"pwa.js.map","sources":["ng://pwa/lib/pwa.service.ts","ng://pwa/lib/pwa.component.ts","ng://pwa/lib/components/widgetbase.component.ts","ng://pwa/lib/pwa.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PwaService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pwa-pwa',\n  template: `\n    <p>\n      pwa works!\n    </p>\n  `,\n  styles: []\n})\nexport class PwaComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component } from '@angular/core';\r\nimport { IContact } from '../models/contact';\r\nimport { IVoiceCall } from '../models/call';\r\n\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'pwa-widgetbase',\r\n    template: '<div>WIDGETBASE</div>'\r\n  })\r\nexport class WidgetBaseComponent {\r\n\r\n    public name = 'BaseWidget';\r\n\r\n    constructor() {\r\n\r\n        if (window.addEventListener) {\r\n            window.addEventListener('message', () => this.handleMessage(event), false);\r\n            console.log('Event Listener attached');\r\n\r\n        } else {\r\n            // for IE6 - IE10\r\n            // the cast is workaround for typescript not supporting the attachEvent-method\r\n            (<any>window).attachEvent('message', () => this.handleMessage(event));\r\n            console.log(false, 'IE Event Listener attached');\r\n        }\r\n    }\r\n\r\n    handleMessage( event) {\r\n        if (event.origin !== 'http://localhost:4200') {\r\n            return;\r\n        }\r\n\r\n        console.log( 'Event.data', event.data);\r\n        console.log( 'Event.origin', event.origin);\r\n        console.log( 'Event.source', event.source);\r\n\r\n        const method = event.data.method ? event.data.method : '';\r\n        const payload = event.data.payload ? event.data.payload : '';\r\n\r\n        if (method === '' || payload === '') {\r\n            console.log( 'Invalid message received' , method, payload);\r\n            return;\r\n        }\r\n\r\n        document.getElementById('received-data').innerHTML = 'Message received: ' + method;\r\n        document.getElementById('payload').innerHTML = JSON.stringify(payload, null, 4);\r\n\r\n        console.log( 'Message received' , method, payload);\r\n        console.log( 'JSON', payload);\r\n\r\n\r\n        switch (method) {\r\n            case 'onSelectContact':\r\n                this.onSelectContact(payload);\r\n                break;\r\n            case 'onSelectVoiceCall':\r\n                this.onSelectVoiceCall(payload);\r\n                break;\r\n            default:\r\n                console.log( 'Invalid method in received message', method, payload);\r\n                break;\r\n        }\r\n    }\r\n\r\n    onSelectContact(contact: IContact) {\r\n        console.log( 'onSelectedContact', contact);\r\n    }\r\n\r\n    onSelectVoiceCall(contact: IVoiceCall) {\r\n        console.log( 'onSelectVoiceCall', contact);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { PwaComponent } from './pwa.component';\nimport { WidgetBaseComponent } from './components/widgetbase.component';\n\n@NgModule({\n  imports: [\n\n  ],\n  declarations: [\n    PwaComponent,\n    WidgetBaseComponent\n  ],\n  exports: [\n    PwaComponent,\n    WidgetBaseComponent\n  ]\n})\nexport class PwaModule { }\n"],"names":[],"mappings":"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"}
